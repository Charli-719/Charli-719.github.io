<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"charli-719.github.io","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.11.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="不积跬步，无以至千里">
<meta property="og:type" content="website">
<meta property="og:title" content="Charli">
<meta property="og:url" content="https://charli-719.github.io/page/2/index.html">
<meta property="og:site_name" content="Charli">
<meta property="og:description" content="不积跬步，无以至千里">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Charli">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://charli-719.github.io/page/2/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/2/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Charli</title>
  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="Charli" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Charli</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">梦想的起源</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>







</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Charli</p>
  <div class="site-description" itemprop="description">不积跬步，无以至千里</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">40</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">22</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://charli-719.github.io/css%E5%AE%9E%E7%8E%B0%E5%B0%8F%E4%BC%81%E9%B9%85">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Charli">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Charli">
      <meta itemprop="description" content="不积跬步，无以至千里">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Charli">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/css%E5%AE%9E%E7%8E%B0%E5%B0%8F%E4%BC%81%E9%B9%85" class="post-title-link" itemprop="url">css实现小企鹅</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-01-14 16:10:55" itemprop="dateCreated datePublished" datetime="2020-01-14T16:10:55+08:00">2020-01-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-05-24 18:35:59" itemprop="dateModified" datetime="2022-05-24T18:35:59+08:00">2022-05-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">前端</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>html代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;penguin&quot;&gt;</span><br><span class="line">  &lt;div class=&quot;penguin-bottom&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;right-hand&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;left-hand&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;right-feet&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;left-feet&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;div class=&quot;penguin-top&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;right-cheek&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;left-cheek&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;belly&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;right-eye&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;sparkle&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;left-eye&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;sparkle&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;blush-right&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;blush-left&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;beak-top&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;beak-bottom&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>css代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  .penguin &#123;</span><br><span class="line">    </span><br><span class="line">    /* change code below */</span><br><span class="line">    --penguin-skin: gray;</span><br><span class="line">    --penguin-belly: white;</span><br><span class="line">    --penguin-beak: orange;</span><br><span class="line">    /* change code above */</span><br><span class="line">    </span><br><span class="line">    position: relative;</span><br><span class="line">    margin: auto;</span><br><span class="line">    display: block;</span><br><span class="line">    margin-top: 5%;</span><br><span class="line">    width: 300px;</span><br><span class="line">    height: 300px;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .penguin-top &#123;</span><br><span class="line">    top: 10%;</span><br><span class="line">    left: 25%;</span><br><span class="line">    background: var(--penguin-skin, gray);</span><br><span class="line">    width: 50%;</span><br><span class="line">    height: 45%;</span><br><span class="line">    border-radius: 70% 70% 60% 60%;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .penguin-bottom &#123;</span><br><span class="line">    top: 40%;</span><br><span class="line">    left: 23.5%;</span><br><span class="line">    background: var(--penguin-skin, gray);</span><br><span class="line">    width: 53%;</span><br><span class="line">    height: 45%;</span><br><span class="line">    border-radius: 70% 70% 100% 100%;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .right-hand &#123;</span><br><span class="line">    top: 0%;</span><br><span class="line">    left: -5%;</span><br><span class="line">    background: var(--penguin-skin, gray);</span><br><span class="line">    width: 30%;</span><br><span class="line">    height: 60%;</span><br><span class="line">    border-radius: 30% 30% 120% 30%;</span><br><span class="line">    transform: rotate(45deg);</span><br><span class="line">    z-index: -1;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .left-hand &#123;</span><br><span class="line">    top: 0%;</span><br><span class="line">    left: 75%;</span><br><span class="line">    background: var(--penguin-skin, gray);</span><br><span class="line">    width: 30%;</span><br><span class="line">    height: 60%;</span><br><span class="line">    border-radius: 30% 30% 30% 120%;</span><br><span class="line">    transform: rotate(-45deg);</span><br><span class="line">    z-index: -1;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .right-cheek &#123;</span><br><span class="line">    top: 15%;</span><br><span class="line">    left: 35%;</span><br><span class="line">    background: var(--penguin-belly, white);</span><br><span class="line">    width: 60%;</span><br><span class="line">    height: 70%;</span><br><span class="line">    border-radius: 70% 70% 60% 60%;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .left-cheek &#123;</span><br><span class="line">    top: 15%;</span><br><span class="line">    left: 5%;</span><br><span class="line">    background: var(--penguin-belly, white);</span><br><span class="line">    width: 60%;</span><br><span class="line">    height: 70%;</span><br><span class="line">    border-radius: 70% 70% 60% 60%;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .belly &#123;</span><br><span class="line">    top: 60%;</span><br><span class="line">    left: 2.5%;</span><br><span class="line">    background: var(--penguin-belly, white);</span><br><span class="line">    width: 95%;</span><br><span class="line">    height: 100%;</span><br><span class="line">    border-radius: 120% 120% 100% 100%;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .right-feet &#123;</span><br><span class="line">    top: 85%;</span><br><span class="line">    left: 60%;</span><br><span class="line">    background: var(--penguin-beak, orange);</span><br><span class="line">    width: 15%;</span><br><span class="line">    height: 30%;</span><br><span class="line">    border-radius: 50% 50% 50% 50%;</span><br><span class="line">    transform: rotate(-80deg);</span><br><span class="line">    z-index: -2222;  </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .left-feet &#123;</span><br><span class="line">    top: 85%;</span><br><span class="line">    left: 25%;</span><br><span class="line">    background: var(--penguin-beak, orange);</span><br><span class="line">    width: 15%;</span><br><span class="line">    height: 30%;</span><br><span class="line">    border-radius: 50% 50% 50% 50%;</span><br><span class="line">    transform: rotate(80deg);</span><br><span class="line">    z-index: -2222;  </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .right-eye &#123;</span><br><span class="line">    top: 45%;</span><br><span class="line">    left: 60%;</span><br><span class="line">    background: black;</span><br><span class="line">    width: 15%;</span><br><span class="line">    height: 17%;</span><br><span class="line">    border-radius: 50%; </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .left-eye &#123;</span><br><span class="line">    top: 45%;</span><br><span class="line">    left: 25%;</span><br><span class="line">    background: black;</span><br><span class="line">    width: 15%;</span><br><span class="line">    height: 17%;</span><br><span class="line">    border-radius: 50%;  </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .sparkle &#123;</span><br><span class="line">    top: 25%;</span><br><span class="line">    left: 15%;</span><br><span class="line">    background: white;</span><br><span class="line">    width: 35%;</span><br><span class="line">    height: 35%;</span><br><span class="line">    border-radius: 50%;  </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .blush-right &#123;</span><br><span class="line">    top: 65%;</span><br><span class="line">    left: 15%;</span><br><span class="line">    background: pink;</span><br><span class="line">    width: 15%;</span><br><span class="line">    height: 10%;</span><br><span class="line">    border-radius: 50%;  </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .blush-left &#123;</span><br><span class="line">    top: 65%;</span><br><span class="line">    left: 70%;</span><br><span class="line">    background: pink;</span><br><span class="line">    width: 15%;</span><br><span class="line">    height: 10%;</span><br><span class="line">    border-radius: 50%;  </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .beak-top &#123;</span><br><span class="line">    top: 60%;</span><br><span class="line">    left: 40%;</span><br><span class="line">    background: var(--penguin-beak, orange);</span><br><span class="line">    width: 20%;</span><br><span class="line">    height: 10%;</span><br><span class="line">    border-radius: 50%;  </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .beak-bottom &#123;</span><br><span class="line">    top: 65%;</span><br><span class="line">    left: 42%;</span><br><span class="line">    background: var(--penguin-beak, orange);</span><br><span class="line">    width: 16%;</span><br><span class="line">    height: 10%;</span><br><span class="line">    border-radius: 50%;  </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  body &#123;</span><br><span class="line">    background:#c6faf1;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .penguin * &#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>效果图<br><img src="/css%E5%AE%9E%E7%8E%B0%E5%B0%8F%E4%BC%81%E9%B9%85/penguin.jpg"></p>
<p>带有动画效果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  :root &#123;</span><br><span class="line">    --penguin-size: 300px;</span><br><span class="line">    --penguin-skin: gray;</span><br><span class="line">    --penguin-belly: white;</span><br><span class="line">    --penguin-beak: orange;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  @media (max-width: 350px) &#123;</span><br><span class="line">    :root &#123;</span><br><span class="line">      </span><br><span class="line">      /* add code below */</span><br><span class="line">      --penguin-skin: black;</span><br><span class="line">      --penguin-size: 200px;</span><br><span class="line">      /* add code above */</span><br><span class="line">      </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .penguin &#123;</span><br><span class="line">    position: relative;</span><br><span class="line">    margin: auto;</span><br><span class="line">    display: block;</span><br><span class="line">    margin-top: 5%;</span><br><span class="line">    width: var(--penguin-size, 300px);</span><br><span class="line">    height: var(--penguin-size, 300px);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .right-cheek &#123;</span><br><span class="line">    top: 15%;</span><br><span class="line">    left: 35%;</span><br><span class="line">    background: var(--penguin-belly, white);</span><br><span class="line">    width: 60%;</span><br><span class="line">    height: 70%;</span><br><span class="line">    border-radius: 70% 70% 60% 60%;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .left-cheek &#123;</span><br><span class="line">    top: 15%;</span><br><span class="line">    left: 5%;</span><br><span class="line">    background: var(--penguin-belly, white);</span><br><span class="line">    width: 60%;</span><br><span class="line">    height: 70%;</span><br><span class="line">    border-radius: 70% 70% 60% 60%;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .belly &#123;</span><br><span class="line">    top: 60%;</span><br><span class="line">    left: 2.5%;</span><br><span class="line">    background: var(--penguin-belly, white);</span><br><span class="line">    width: 95%;</span><br><span class="line">    height: 100%;</span><br><span class="line">    border-radius: 120% 120% 100% 100%;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .penguin-top &#123;</span><br><span class="line">    top: 10%;</span><br><span class="line">    left: 25%;</span><br><span class="line">    background: var(--penguin-skin, gray);</span><br><span class="line">    width: 50%;</span><br><span class="line">    height: 45%;</span><br><span class="line">    border-radius: 70% 70% 60% 60%;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .penguin-bottom &#123;</span><br><span class="line">    top: 40%;</span><br><span class="line">    left: 23.5%;</span><br><span class="line">    background: var(--penguin-skin, gray);</span><br><span class="line">    width: 53%;</span><br><span class="line">    height: 45%;</span><br><span class="line">    border-radius: 70% 70% 100% 100%;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .right-hand &#123;</span><br><span class="line">    top: 5%;</span><br><span class="line">    left: 25%;</span><br><span class="line">    background: var(--penguin-skin, black);</span><br><span class="line">    width: 30%;</span><br><span class="line">    height: 60%;</span><br><span class="line">    border-radius: 30% 30% 120% 30%;</span><br><span class="line">    transform: rotate(130deg);</span><br><span class="line">    z-index: -1;</span><br><span class="line">    animation-duration: 3s;</span><br><span class="line">    animation-name: wave;</span><br><span class="line">    animation-iteration-count: infinite;</span><br><span class="line">    transform-origin:0% 0%;</span><br><span class="line">    animation-timing-function: linear;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  @keyframes wave &#123;</span><br><span class="line">      10% &#123;</span><br><span class="line">        transform: rotate(110deg);</span><br><span class="line">      &#125;</span><br><span class="line">      20% &#123;</span><br><span class="line">        transform: rotate(130deg);</span><br><span class="line">      &#125;</span><br><span class="line">      30% &#123;</span><br><span class="line">        transform: rotate(110deg);</span><br><span class="line">      &#125; </span><br><span class="line">      40% &#123;</span><br><span class="line">        transform: rotate(130deg);</span><br><span class="line">      &#125;  </span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">  .left-hand &#123;</span><br><span class="line">    top: 0%;</span><br><span class="line">    left: 75%;</span><br><span class="line">    background: var(--penguin-skin, gray);</span><br><span class="line">    width: 30%;</span><br><span class="line">    height: 60%;</span><br><span class="line">    border-radius: 30% 30% 30% 120%;</span><br><span class="line">    transform: rotate(-45deg);</span><br><span class="line">    z-index: -1;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .right-feet &#123;</span><br><span class="line">    top: 85%;</span><br><span class="line">    left: 60%;</span><br><span class="line">    background: var(--penguin-beak, orange);</span><br><span class="line">    width: 15%;</span><br><span class="line">    height: 30%;</span><br><span class="line">    border-radius: 50% 50% 50% 50%;</span><br><span class="line">    transform: rotate(-80deg);</span><br><span class="line">    z-index: -2222;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .left-feet &#123;</span><br><span class="line">    top: 85%;</span><br><span class="line">    left: 25%;</span><br><span class="line">    background: var(--penguin-beak, orange);</span><br><span class="line">    width: 15%;</span><br><span class="line">    height: 30%;</span><br><span class="line">    border-radius: 50% 50% 50% 50%;</span><br><span class="line">    transform: rotate(80deg);</span><br><span class="line">    z-index: -2222;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .right-eye &#123;</span><br><span class="line">    top: 45%;</span><br><span class="line">    left: 60%;</span><br><span class="line">    background: black;</span><br><span class="line">    width: 15%;</span><br><span class="line">    height: 17%;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .left-eye &#123;</span><br><span class="line">    top: 45%;</span><br><span class="line">    left: 25%;</span><br><span class="line">    background: black;</span><br><span class="line">    width: 15%;</span><br><span class="line">    height: 17%;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .sparkle &#123;</span><br><span class="line">    top: 25%;</span><br><span class="line">    left:-23%;</span><br><span class="line">    background: white;</span><br><span class="line">    width: 150%;</span><br><span class="line">    height: 100%;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .blush-right &#123;</span><br><span class="line">    top: 65%;</span><br><span class="line">    left: 15%;</span><br><span class="line">    background: pink;</span><br><span class="line">    width: 15%;</span><br><span class="line">    height: 10%;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .blush-left &#123;</span><br><span class="line">    top: 65%;</span><br><span class="line">    left: 70%;</span><br><span class="line">    background: pink;</span><br><span class="line">    width: 15%;</span><br><span class="line">    height: 10%;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .beak-top &#123;</span><br><span class="line">    top: 60%;</span><br><span class="line">    left: 40%;</span><br><span class="line">    background: var(--penguin-beak, orange);</span><br><span class="line">    width: 20%;</span><br><span class="line">    height: 10%;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .beak-bottom &#123;</span><br><span class="line">    top: 65%;</span><br><span class="line">    left: 42%;</span><br><span class="line">    background: var(--penguin-beak, orange);</span><br><span class="line">    width: 16%;</span><br><span class="line">    height: 10%;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  body &#123;</span><br><span class="line">    background:#c6faf1;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .penguin * &#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;div class=&quot;penguin&quot;&gt;</span><br><span class="line">  &lt;div class=&quot;penguin-bottom&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;right-hand&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;left-hand&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;right-feet&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;left-feet&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;div class=&quot;penguin-top&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;right-cheek&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;left-cheek&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;belly&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;right-eye&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;sparkle&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;left-eye&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;sparkle&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;blush-right&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;blush-left&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;beak-top&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;beak-bottom&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://charli-719.github.io/background-attchment%E7%A7%BB%E5%8A%A8%E7%AB%AF%E6%97%A0%E6%95%88">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Charli">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Charli">
      <meta itemprop="description" content="不积跬步，无以至千里">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Charli">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/background-attchment%E7%A7%BB%E5%8A%A8%E7%AB%AF%E6%97%A0%E6%95%88" class="post-title-link" itemprop="url">background-attchment移动端无效</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-01-09 12:22:58" itemprop="dateCreated datePublished" datetime="2020-01-09T12:22:58+08:00">2020-01-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-05-24 18:35:59" itemprop="dateModified" datetime="2022-05-24T18:35:59+08:00">2022-05-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">前端</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>想要实现一个移动端的页面，元素滚动，但是页面背景图不能滚动<br>能想到的就是使用“background-attachment: fixed”<br>但是在pc端是可以的，在移动端不适用</p>
<p>看了网上的很多列子<br>找到了一个使用body的方法，但是在ios中还是会跟随屏幕的滚动而滚动<br>所以就调整成下面，就适应了</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">//background-attachment固定背景图片手机端有效果只能放在body中</span><br><span class="line">body&#123;</span><br><span class="line">  display: block;</span><br><span class="line">  position: absolute;</span><br><span class="line">  left: 0;</span><br><span class="line">  top: 0;</span><br><span class="line">  z-index: 10;</span><br><span class="line">  width: 100%;</span><br><span class="line">&#125;</span><br><span class="line">body:before&#123;</span><br><span class="line">  content: &#x27;&#x27;;</span><br><span class="line">  position: fixed;</span><br><span class="line">  z-index: -1;</span><br><span class="line">  top: 0;</span><br><span class="line">  right: 0;</span><br><span class="line">  bottom: 0;</span><br><span class="line">  left: 0;</span><br><span class="line">  background-image: url(&quot;../../../assets/bg.jpg&quot;);</span><br><span class="line">  background-repeat: no-repeat;</span><br><span class="line">  background-attachment: fixed;</span><br><span class="line">  background-size: 100%, cover, cover;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://charli-719.github.io/2019/12/11/2019/%E5%9C%A8IOS%E4%B8%ADDeviceMotionEvent%E5%A4%B1%E6%95%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Charli">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Charli">
      <meta itemprop="description" content="不积跬步，无以至千里">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Charli">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/12/11/2019/%E5%9C%A8IOS%E4%B8%ADDeviceMotionEvent%E5%A4%B1%E6%95%88/" class="post-title-link" itemprop="url">在IOS中DeviceMotionEvent失效</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-12-11 15:39:30" itemprop="dateCreated datePublished" datetime="2019-12-11T15:39:30+08:00">2019-12-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-05-24 18:36:00" itemprop="dateModified" datetime="2022-05-24T18:36:00+08:00">2022-05-24</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>客户提出要摇一摇自动播放视频的功能<br>在做摇一摇的时候出现了问题：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">//摇一摇(使用DeviceMotion事件)</span><br><span class="line">shake() &#123;</span><br><span class="line">    var speed = 15;    // 用来判定的加速度阈值，太大了则很难触发</span><br><span class="line">    var x, y, z, lastX, lastY, lastZ;</span><br><span class="line">    x = y = z = lastX = lastY = lastZ = 0;</span><br><span class="line">    window.addEventListener(&#x27;devicemotion&#x27;, function (event) &#123;</span><br><span class="line">        var acceleration = event.accelerationIncludingGravity;</span><br><span class="line">        x = acceleration.x;</span><br><span class="line">        y = acceleration.y;</span><br><span class="line">        if (Math.abs(x - lastX) &gt; speed || Math.abs(y - lastY) &gt; speed) &#123;</span><br><span class="line">            // 用户设备摇动了，触发响应操作</span><br><span class="line">            // 此处的判断依据是用户设备的加速度大于我们设置的阈值</span><br><span class="line">             alert(&#x27;摇了&#x27;);</span><br><span class="line">        &#125;</span><br><span class="line">        lastX = x;</span><br><span class="line">        lastY = y;</span><br><span class="line">    &#125;, false);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面这段代码在安卓手机上运行没有一点问题，但是ios上怎么都不出来效果（真的愁死）<br>后来在输出</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alert(window.EdviceMotionEvent)</span><br></pre></td></tr></table></figure>
<p>发现ios上是有这个事件的，但就是没有弹出“摇了”这个弹出框</p>
<p>后来发现ios新系统版本摇一摇事件需要https协议（真的是被搞死）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">问题：window.DeviceMotionEvent 在ios中是有定义的，但就是不触发 devicemotion 事件；</span><br><span class="line">解决：使用 https 协议！</span><br></pre></td></tr></table></figure>



      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://charli-719.github.io/2019/11/26/2019/position%E4%B8%BAfixed%E6%97%B6%E8%AE%BE%E7%BD%AEz-index%E5%A4%B1%E6%95%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Charli">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Charli">
      <meta itemprop="description" content="不积跬步，无以至千里">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Charli">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/11/26/2019/position%E4%B8%BAfixed%E6%97%B6%E8%AE%BE%E7%BD%AEz-index%E5%A4%B1%E6%95%88/" class="post-title-link" itemprop="url">position为fixed时设置z-index失效</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-11-26 18:22:52" itemprop="dateCreated datePublished" datetime="2019-11-26T18:22:52+08:00">2019-11-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-05-24 18:36:01" itemprop="dateModified" datetime="2022-05-24T18:36:01+08:00">2022-05-24</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>今天在改bug的时候遇到了个z-index的问题，怎么都调试不好，然后就上网百度<br>bug: 一个div元素下两个子元素，其中一个子元素fixed定位，另一个没有办法执行click方法</p>
<p>原来谷歌浏览器在设置position:fixed;后会触发元素创建一个新的层叠上下文，并且当成一个整体在父层叠上下文中进行比较。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;a&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;b&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p>如上面的dom结构，当给b设置了position:fixed;属性后，会触发创建一个新的层叠上下文，它的父层叠上下文变成了a，所以b只能在a的内部进行层叠比较。这也就是大家熟听的“从父原则”。</p>
<p>所以本来所有元素都在root内比较，改为fixed之后只能在父级元素内比较，而父级元素没有设置z-index，所以无法比较。</p>
<p>所以解决方案是给父级元素设置z-index，一般设置为0就可以了。</p>
<p>tips：</p>
<ol>
<li>z-index只有在设置了position为relative,absolute,fixed时才会有效。 </li>
<li>z-index的“从父原则”。当你发现把z-index设的多大都没用时，看看其父元素是否设置了有效的z-index，当然别忘了先看看自身是否设置了position。</li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://charli-719.github.io/2019/10/05/2019/2019%E6%9C%88%E5%BA%A6%E6%80%BB%E7%BB%93-%E4%B9%9D%E6%9C%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Charli">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Charli">
      <meta itemprop="description" content="不积跬步，无以至千里">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Charli">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/10/05/2019/2019%E6%9C%88%E5%BA%A6%E6%80%BB%E7%BB%93-%E4%B9%9D%E6%9C%88/" class="post-title-link" itemprop="url">2019月度总结-九月</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-10-05 09:30:30" itemprop="dateCreated datePublished" datetime="2019-10-05T09:30:30+08:00">2019-10-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-05-24 18:36:01" itemprop="dateModified" datetime="2022-05-24T18:36:01+08:00">2022-05-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/2019%E6%9C%88%E5%BA%A6%E6%80%BB%E7%BB%93/" itemprop="url" rel="index"><span itemprop="name">2019月度总结</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>九月好像是我最懒的一个月，感觉什么都没干，我准备把月度总结换成线下写了。可是现在人在苏州，我的本子却在上海。所以这个月的还是在网上写吧！</p>
<p>真不知道写点什么。。。</p>
<h1 id="电影"><a href="#电影" class="headerlink" title="电影"></a>电影</h1><p>九月份跟朋友一起看了 —— 哪吒之魔童降世 —— 这部电影，我们去的夜场。这个电影真的超燃，非常好看。我以为九月二十六号从电影院下线后能在电脑上看呢，一直到现在都没有看到，好想在电脑上多看几遍</p>
<h1 id="学习"><a href="#学习" class="headerlink" title="学习"></a>学习</h1><p>上个月还说八月份的学习量少呢，九月才真的是少。我这是要一个月不如一个月了吗</p>
<p>从早上写了个标题，到现在都没有想起来我有什么可以写的，九月份真的是混过去的~</p>
<h1 id="英语"><a href="#英语" class="headerlink" title="英语"></a>英语</h1><p>真的是我这个人英语都不好好学习了。。。<br>下面是我的两个软件在9月30号那天的签到截图，我也真的是醉了<br><img src="/2019%E6%9C%88%E5%BA%A6%E6%80%BB%E7%BB%93-%E4%B9%9D%E6%9C%88/01.jpg"><br><img src="/2019%E6%9C%88%E5%BA%A6%E6%80%BB%E7%BB%93-%E4%B9%9D%E6%9C%88/02.jpg"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://charli-719.github.io/2019/09/27/2019/%E5%88%A4%E6%96%AD%E6%98%AF%E9%A1%B5%E9%9D%A2%E6%98%AF%E5%9C%A8%E6%89%8B%E6%9C%BA%E7%AB%AF%E8%BF%98%E6%98%AFPC%E7%AB%AF%E6%89%93%E5%BC%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Charli">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Charli">
      <meta itemprop="description" content="不积跬步，无以至千里">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Charli">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/09/27/2019/%E5%88%A4%E6%96%AD%E6%98%AF%E9%A1%B5%E9%9D%A2%E6%98%AF%E5%9C%A8%E6%89%8B%E6%9C%BA%E7%AB%AF%E8%BF%98%E6%98%AFPC%E7%AB%AF%E6%89%93%E5%BC%80/" class="post-title-link" itemprop="url">判断是页面是在手机端还是PC端打开</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-09-27 18:10:02" itemprop="dateCreated datePublished" datetime="2019-09-27T18:10:02+08:00">2019-09-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-05-24 18:36:00" itemprop="dateModified" datetime="2022-05-24T18:36:00+08:00">2022-05-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">前端</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>之前碰到过在pc端的微信打开一个页面，告诉我只能在手机端的微信内置浏览器中打开。</p>
<p>效果如下所示：</p>
<p><img src="/%E5%88%A4%E6%96%AD%E6%98%AF%E9%A1%B5%E9%9D%A2%E6%98%AF%E5%9C%A8%E6%89%8B%E6%9C%BA%E7%AB%AF%E8%BF%98%E6%98%AFPC%E7%AB%AF%E6%89%93%E5%BC%80/01.png"></p>
<p>navigator.userAgent : 浏览器用于 HTTP 请求的用户代理头的值，通过UserAgent可以取得浏览器类别、版本，客户端操作系统等信息。</p>
<p>本地输出一下，如下显示：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">console.log(navigator.userAgent);</span><br><span class="line">//Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.90 Mobile Safari/537.36</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;title&gt;判断是页面是在手机端还是PC端打开&lt;/title&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;link href=&quot;https://cdn.bootcss.com/weui/2.1.2/style/weui.min.css&quot; rel=&quot;stylesheet&quot;&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;script&gt;</span><br><span class="line">            const sUserAgent = navigator.userAgent.toLowerCase();</span><br><span class="line">            const pad = sUserAgent.match(/ipad/i) == &quot;ipad&quot;;//是否是ipad设备</span><br><span class="line">            const iphone = sUserAgent.match(/iphone os/i) == &quot;iphone os&quot;;//是否是iphone设备</span><br><span class="line">            const android = sUserAgent.match(/android/i) == &quot;android&quot;;//是否是安卓设备</span><br><span class="line">            const ce = sUserAgent.match(/windows ce/i) == &quot;windows ce&quot;;</span><br><span class="line">            const wm = sUserAgent.match(/windows mobile/i) == &quot;windows mobile&quot;;</span><br><span class="line">            const wcBrowser = sUserAgent.match(/MicroMessenger/i)==&quot;micromessenger&quot;;//判断当前是否是微信环境</span><br><span class="line">            </span><br><span class="line">            if (pad || iphone || android || ce || wm) &#123;</span><br><span class="line">                console.log(&quot;手机端&quot;);</span><br><span class="line">                if(wcBrowser)&#123;</span><br><span class="line">                    console.log(&quot;手机端微信内置浏览器&quot;)</span><br><span class="line">                &#125;else&#123;</span><br><span class="line">                    console.log(&quot;手机端但不是微信内置浏览器&quot;)</span><br><span class="line">                    document.body.innerHTML = &#x27;&lt;div class=&quot;weui_msg&quot;&gt;&lt;div class=&quot;weui_icon_area&quot;&gt;&lt;i class=&quot;weui_icon_info weui_icon_msg&quot;&gt;&lt;/i&gt;&lt;/div&gt;&lt;div class=&quot;weui_text_area&quot;&gt;&lt;h4 class=&quot;weui_msg_title&quot;&gt;请在微信内置浏览器打开链接&lt;/h4&gt;&lt;/div&gt;&lt;/div&gt;&#x27;;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                console.log(&quot;&quot;)</span><br><span class="line">                document.body.innerHTML = &#x27;&lt;div class=&quot;weui_msg&quot;&gt;&lt;div class=&quot;weui_icon_area&quot;&gt;&lt;i class=&quot;weui_icon_info weui_icon_msg&quot;&gt;&lt;/i&gt;&lt;/div&gt;&lt;div class=&quot;weui_text_area&quot;&gt;&lt;h4 class=&quot;weui_msg_title&quot;&gt;请在移动端微信打开链接&lt;/h4&gt;&lt;/div&gt;&lt;/div&gt;&#x27;;</span><br><span class="line">            &#125;</span><br><span class="line">        &lt;/script&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p><img src="/%E5%88%A4%E6%96%AD%E6%98%AF%E9%A1%B5%E9%9D%A2%E6%98%AF%E5%9C%A8%E6%89%8B%E6%9C%BA%E7%AB%AF%E8%BF%98%E6%98%AFPC%E7%AB%AF%E6%89%93%E5%BC%80/04.png"><br><img src="/%E5%88%A4%E6%96%AD%E6%98%AF%E9%A1%B5%E9%9D%A2%E6%98%AF%E5%9C%A8%E6%89%8B%E6%9C%BA%E7%AB%AF%E8%BF%98%E6%98%AFPC%E7%AB%AF%E6%89%93%E5%BC%80/04.jpg"></p>
<p>最终的显示效果（限制用户只能在移动端的微信内置浏览器中打开）：</p>
<p><img src="/%E5%88%A4%E6%96%AD%E6%98%AF%E9%A1%B5%E9%9D%A2%E6%98%AF%E5%9C%A8%E6%89%8B%E6%9C%BA%E7%AB%AF%E8%BF%98%E6%98%AFPC%E7%AB%AF%E6%89%93%E5%BC%80/02.png"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://charli-719.github.io/2019/09/26/2019/react-canvas-nest/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Charli">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Charli">
      <meta itemprop="description" content="不积跬步，无以至千里">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Charli">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/09/26/2019/react-canvas-nest/" class="post-title-link" itemprop="url">react-canvas-nest</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-09-26 06:58:12" itemprop="dateCreated datePublished" datetime="2019-09-26T06:58:12+08:00">2019-09-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-02-17 14:09:49" itemprop="dateModified" datetime="2023-02-17T14:09:49+08:00">2023-02-17</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>之前在人家网站上看到，我都能玩半个小时。<br>今天刚好看到了这个插件：react-canvas-nest,用来写写</p>
<p><a href="https://charli-719.github.io/create-react-app-antd-less/build/#/nest">演示效果</a></p>
<p>在react环境下使用的</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">安装：</span><br><span class="line"></span><br><span class="line">npm install react-canvas-nest</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">使用代码：</span><br><span class="line"></span><br><span class="line">import React from &quot;react&quot;;</span><br><span class="line">import ReactCanvasNest from &quot;react-canvas-nest&quot;; //引入</span><br><span class="line"></span><br><span class="line">class Home extends React.Component&#123;</span><br><span class="line">    render()&#123;</span><br><span class="line">        return &lt;ReactCanvasNest</span><br><span class="line">             className=&#x27;canvasNest&#x27;</span><br><span class="line">              config=&#123;&#123;</span><br><span class="line">                    pointColor: &#x27;173, 188, 213 &#x27;,</span><br><span class="line">                    lineColor: &#x27;185, 198,219&#x27;,</span><br><span class="line">                    lineWidth: 2,</span><br><span class="line">                    count: 120,</span><br><span class="line">                    pointR: 1.5</span><br><span class="line">                &#125;&#125;</span><br><span class="line">              style=&#123;&#123;zIndex: 1&#125;&#125;</span><br><span class="line">          /&gt;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">export default Home;</span><br></pre></td></tr></table></figure>

<p>效果如下所示：</p>
<p><img src="/react-canvas-nest/Animation.gif"></p>
<h2 id="API"><a href="#API" class="headerlink" title="API"></a>API</h2><p>config<br><img src="/react-canvas-nest/config.png" alt="config"></p>
<p>style<br>Support style attribute, default style as follows:<br><img src="/react-canvas-nest/style.jpg" alt="style"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://charli-719.github.io/2019/09/24/2019/%E5%BE%AE%E4%BF%A1%E6%89%AB%E7%A0%81%E7%99%BB%E5%BD%95%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A0%B7%E5%BC%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Charli">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Charli">
      <meta itemprop="description" content="不积跬步，无以至千里">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Charli">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/09/24/2019/%E5%BE%AE%E4%BF%A1%E6%89%AB%E7%A0%81%E7%99%BB%E5%BD%95%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A0%B7%E5%BC%8F/" class="post-title-link" itemprop="url">微信扫码登录自定义样式</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-09-24 09:31:12" itemprop="dateCreated datePublished" datetime="2019-09-24T09:31:12+08:00">2019-09-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-02-17 14:09:49" itemprop="dateModified" datetime="2023-02-17T14:09:49+08:00">2023-02-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">前端</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>微信扫码登录现在几乎是每个网站必备的登录方式.<br><a target="_blank" rel="noopener" href="https://open.weixin.qq.com/cgi-bin/showdocument?action=dir_list&t=resource/res_list&verify=1&id=open1419316505&token=&lang=zh_CN">网站应用微信登录开发指南</a></p>
<p>官方文档中介绍了两种登录方式：1、url跳转；2、内嵌</p>
<h1 id="url跳转"><a href="#url跳转" class="headerlink" title="url跳转"></a>url跳转</h1><p>url跳转至一个新页面，效果如下：</p>
<p><img src="/%E5%BE%AE%E4%BF%A1%E6%89%AB%E7%A0%81%E7%99%BB%E5%BD%95%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A0%B7%E5%BC%8F/url.jpg"></p>
<h1 id="内嵌"><a href="#内嵌" class="headerlink" title="内嵌"></a>内嵌</h1><p>页面内嵌代码如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;内嵌-微信登陆&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;http://res.wx.qq.com/connect/zh_CN/htmledition/js/wxLogin.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div id=&quot;login_container&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var obj = new WxLogin(&#123;</span><br><span class="line">        self_redirect:false,</span><br><span class="line">        id:&quot;login_container&quot;,</span><br><span class="line">        appid: &quot;wxbdc5610cc59c1631&quot;,</span><br><span class="line">        scope: &quot;snsapi_login&quot;,</span><br><span class="line">        redirect_uri: &quot;https%3A%2F%2Fpassport.yhd.com%2Fwechat%2Fcallback.do&quot;,</span><br><span class="line">        state: Math.ceil(Math.random()*1000),</span><br><span class="line">        style: &quot;black&quot;,</span><br><span class="line">        href: &quot;&quot;</span><br><span class="line">    &#125;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>官方参数说明：<br><img src="/%E5%BE%AE%E4%BF%A1%E6%89%AB%E7%A0%81%E7%99%BB%E5%BD%95%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A0%B7%E5%BC%8F/canshu.png"></p>
<p>内嵌效果如下：</p>
<p><img src="/%E5%BE%AE%E4%BF%A1%E6%89%AB%E7%A0%81%E7%99%BB%E5%BD%95%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A0%B7%E5%BC%8F/0.jpg"></p>
<h1 id="自定义样式"><a href="#自定义样式" class="headerlink" title="自定义样式"></a>自定义样式</h1><h2 id="href链接写好的css样式（必须是https），http不会响应"><a href="#href链接写好的css样式（必须是https），http不会响应" class="headerlink" title="href链接写好的css样式（必须是https），http不会响应"></a>href链接写好的css样式（必须是https），http不会响应</h2><h3 id="内嵌-1"><a href="#内嵌-1" class="headerlink" title="内嵌"></a>内嵌</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var obj = new WxLogin(&#123;</span><br><span class="line">        self_redirect:false,</span><br><span class="line">        id:&quot;login_container&quot;,</span><br><span class="line">        appid: &quot;wxbdc5610cc59c1631&quot;,</span><br><span class="line">        scope: &quot;snsapi_login&quot;,</span><br><span class="line">        redirect_uri: &quot;https%3A%2F%2Fpassport.yhd.com%2Fwechat%2Fcallback.do&quot;,</span><br><span class="line">        state: Math.ceil(Math.random()*1000),</span><br><span class="line">        style: &quot;black&quot;,</span><br><span class="line">        href: &quot;https://Charli-719.github.io/create-react-app-antd-less/src/assets/wechatLogin.min.css&quot;</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>

<p>wechatLogin.min.css:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@charset &quot;utf-8&quot;;.impowerBox .qrcode&#123;width:180px;border:0;margin-top:13px&#125;.impowerBox .title&#123;display:none&#125;.impowerBox .info&#123;width:160px&#125;.status_icon&#123;display:none&#125;.impowerBox .status&#123;text-align:center&#125;.wrp_code&#123;width:206px;background-color:#fff;border:1px solid #e5e5e5;height:206px;margin:0 auto;border-radius:4px&#125;.panelContent .info&#123;display:none&#125;</span><br></pre></td></tr></table></figure>

<h3 id="url跳转的链接（可直接打开）"><a href="#url跳转的链接（可直接打开）" class="headerlink" title="url跳转的链接（可直接打开）"></a>url跳转的链接（可直接打开）</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://open.weixin.qq.com/connect/qrconnect?appid=wxbdc5610cc59c1631&amp;redirect_uri=https%3A%2F%2Fpassport.yhd.com%2Fwechat%2Fcallback.do&amp;response_type=code&amp;scope=snsapi_login&amp;href=https://Charli-719.github.io/create-react-app-antd-less/src/assets/wechatLogin.min.css&amp;state=b3dbfa5773c25b9e942465253b5af6ee#wechat_redirect</span><br></pre></td></tr></table></figure>

<p>将微信的title和info都隐藏掉了，也改变了二维码的大小。效果如下：</p>
<p><img src="/%E5%BE%AE%E4%BF%A1%E6%89%AB%E7%A0%81%E7%99%BB%E5%BD%95%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A0%B7%E5%BC%8F/href0.png"></p>
<h2 id="也可以转换成base64"><a href="#也可以转换成base64" class="headerlink" title="也可以转换成base64"></a>也可以转换成base64</h2><h3 id="内嵌-2"><a href="#内嵌-2" class="headerlink" title="内嵌"></a>内嵌</h3><p>转换css：</p>
<p><img src="/%E5%BE%AE%E4%BF%A1%E6%89%AB%E7%A0%81%E7%99%BB%E5%BD%95%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A0%B7%E5%BC%8F/base64.jpg"></p>
<p>代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var obj = new WxLogin(&#123;</span><br><span class="line">        self_redirect:false,</span><br><span class="line">        id:&quot;login_container&quot;,</span><br><span class="line">        appid: &quot;wxbdc5610cc59c1631&quot;,</span><br><span class="line">        scope: &quot;snsapi_login&quot;,</span><br><span class="line">        redirect_uri: &quot;https%3A%2F%2Fpassport.yhd.com%2Fwechat%2Fcallback.do&quot;,</span><br><span class="line">        href:&#x27;data:text/css;base64,QGNoYXJzZXQgInV0Zi04IjsuaW1wb3dlckJveCAucXJjb2Rle3dpZHRoOjE4MHB4O2JvcmRlcjowO21hcmdpbi10b3A6MTNweH0uaW1wb3dlckJveCAudGl0bGV7ZGlzcGxheTpub25lfS5pbXBvd2VyQm94IC5pbmZve3dpZHRoOjE2MHB4fS5zdGF0dXNfaWNvbntkaXNwbGF5Om5vbmV9LmltcG93ZXJCb3ggLnN0YXR1c3t0ZXh0LWFsaWduOmNlbnRlcn0ud3JwX2NvZGV7d2lkdGg6MjA2cHg7YmFja2dyb3VuZC1jb2xvcjojZmZmO2JvcmRlcjoxcHggc29saWQgI2U1ZTVlNTtoZWlnaHQ6MjA2cHg7bWFyZ2luOjAgYXV0bztib3JkZXItcmFkaXVzOjRweH0ucGFuZWxDb250ZW50IC5pbmZve2Rpc3BsYXk6bm9uZX0=&#x27;,</span><br><span class="line">        state: Math.ceil(Math.random()*1000),</span><br><span class="line">        style: &quot;black&quot;,</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>

<h3 id="url跳转的链接（可直接打开）-1"><a href="#url跳转的链接（可直接打开）-1" class="headerlink" title="url跳转的链接（可直接打开）"></a>url跳转的链接（可直接打开）</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://open.weixin.qq.com/connect/qrconnect?appid=wxbdc5610cc59c1631&amp;redirect_uri=https%3A%2F%2Fpassport.yhd.com%2Fwechat%2Fcallback.do&amp;response_type=code&amp;scope=snsapi_login&amp;href=data:text/css;base64,QGNoYXJzZXQgInV0Zi04IjsuaW1wb3dlckJveCAucXJjb2Rle3dpZHRoOjE4MHB4O2JvcmRlcjowO21hcmdpbi10b3A6MTNweH0uaW1wb3dlckJveCAudGl0bGV7ZGlzcGxheTpub25lfS5pbXBvd2VyQm94IC5pbmZve3dpZHRoOjE2MHB4fS5zdGF0dXNfaWNvbntkaXNwbGF5Om5vbmV9LmltcG93ZXJCb3ggLnN0YXR1c3t0ZXh0LWFsaWduOmNlbnRlcn0ud3JwX2NvZGV7d2lkdGg6MjA2cHg7YmFja2dyb3VuZC1jb2xvcjojZmZmO2JvcmRlcjoxcHggc29saWQgI2U1ZTVlNTtoZWlnaHQ6MjA2cHg7bWFyZ2luOjAgYXV0bztib3JkZXItcmFkaXVzOjRweH0ucGFuZWxDb250ZW50IC5pbmZve2Rpc3BsYXk6bm9uZX0=&amp;state=b3dbfa5773c25b9e942465253b5af6ee#wechat_redirect</span><br></pre></td></tr></table></figure>

<p>效果如下：</p>
<p><img src="/%E5%BE%AE%E4%BF%A1%E6%89%AB%E7%A0%81%E7%99%BB%E5%BD%95%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A0%B7%E5%BC%8F/href0.png"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://charli-719.github.io/2019/09/22/2019/%E5%85%B3%E4%BA%8Ethis-setState-%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BB%B6%E8%BF%9F%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Charli">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Charli">
      <meta itemprop="description" content="不积跬步，无以至千里">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Charli">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/09/22/2019/%E5%85%B3%E4%BA%8Ethis-setState-%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BB%B6%E8%BF%9F%E9%97%AE%E9%A2%98/" class="post-title-link" itemprop="url">关于this.setState({})中的数据延迟问题</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-09-22 11:54:53" itemprop="dateCreated datePublished" datetime="2019-09-22T11:54:53+08:00">2019-09-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-05-24 18:36:00" itemprop="dateModified" datetime="2022-05-24T18:36:00+08:00">2022-05-24</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>转载自<a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000019670168">ERIC</a></p>
<p>this.setState( )方法是React.js中最常见的一种方法，利用它可以控制各种状态变化，达到页面各种交互效果，但是，我们在React开发中偶尔会发现，明明已经通过this.setState( )方法处理过某个state的值，但是在后续的方法里，log打印出来仍然是之前的值，或者，第一次获取到原来的值，第二次才能获取到设置之后的新值，让人误以为是因为电脑或浏览器性能问题造成的”延迟”问题。</p>
<h1 id="执行过程"><a href="#执行过程" class="headerlink" title="执行过程"></a>执行过程</h1><hr>
<p>为了理解这个问题，我们首先来看一下setState这个过程中发生了什么：</p>
<p>1、将setState传入的partialState参数存储在当前组件实例的state暂存队列中。<br>2、判断当前React是否处于批量更新状态，如果是，将当前组件加入待更新的组件队列中。<br>3、如果未处于批量更新状态，将批量更新状态标识设置为true，用事务再次调用前一步方法，保证当前组件加入到了待更新组件队列中。<br>4、调用事务的waper方法，遍历待更新组件队列依次执行更新。<br>5、执行生命周期componentWillReceiveProps。<br>6、将组件的state暂存队列中的state进行合并，获得最终要更新的state对象，并将队列置为空。<br>7、执行生命周期componentShouldUpdate，根据返回值判断是否要继续更新。<br>8、执行生命周期componentWillUpdate。<br>9、执行真正的更新，render重新渲染。<br>10、执行生命周期componentDidUpdate。</p>
<h1 id="官方解释"><a href="#官方解释" class="headerlink" title="官方解释"></a>官方解释</h1><hr>
<p>首先思考为什么会出现这种情况，在facebook给出的官方文档中我们可以看到这么一段话：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setState(updater[, callback])</span><br></pre></td></tr></table></figure>
<p><em>Think of setState( ) as a request rather than an immediate command to update the component. For better perceived performance, React may delay it, and then update several components in a single pass. React does not guarantee that the state changes are applied immediately.</em></p>
<p><em>setState( ) does not always immediately update the component. It may batch or defer the update until later. This makes reading this.state right after calling setState( ) a potential pitfall. Instead, use componentDidUpdate or a setState callback (setState(updater, callback)), either of which are guaranteed to fire after the update has been applied. If you need to set the state based on the previous state, read about the updater argument below.</em></p>
<p>总结一下，就是以下几点：</p>
<ul>
<li>setState( ) 更类似于是一种请求而不是立即更新组件的命令</li>
<li>为了更好的性能，React会延迟调用它，不会保证state的变更会立即生效，而是会批量推迟更新</li>
<li>官方承认会存在隐患</li>
<li>建议在componentDidUpdate中执行或利用回调函数（setState(updater, callback)）</li>
</ul>
<p>举个简单例子：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">constructor(props) &#123;</span><br><span class="line">  super(props);</span><br><span class="line">  this.state = &#123;</span><br><span class="line">    num: 1</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">componentDidMount = () =&gt; &#123;</span><br><span class="line">  this.setState(&#123; num: this.state.num + 1 &#125;);</span><br><span class="line">  console.log(this.state.num);   // 1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这是因为this.setState( )本身是异步的，程序异步运行，可以提高程序运行的效率，不必等一个程序跑完，再跑下一个程序，特别当这两个程序是无关的时候。React会去合并所有的state变化，在前一个方法未执行完时，就先开始运行后一个方法。但是实际操作中，为了能实时获取后一个状态值，需要一些解决的办法。</p>
<h1 id="利用全局属性"><a href="#利用全局属性" class="headerlink" title="利用全局属性"></a>利用全局属性</h1><hr>
<p>尝试一下换个写法，利用全局属性的办法而不是用state的方式去获取数据：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">constructor(props) &#123;</span><br><span class="line">  super(props);</span><br><span class="line">  this.num = 1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">componentDidMount = () =&gt; &#123;</span><br><span class="line">  this.num = this.num + 1;</span><br><span class="line">  console.log(this.num);   // 2</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这其实是一种取巧的方式，写法方便，原理简单，但是并不十分推荐，因为它并不符合React中关于有状态组件的设计理念，存在有可能无法触发刷新的风险(虽然在我的开发过程从没有发生这样的事)，所以还是希望大家优先使用下面的方法。</p>
<h1 id="利用回调函数"><a href="#利用回调函数" class="headerlink" title="利用回调函数"></a>利用回调函数</h1><hr>
<h2 id="回调函数众所周知，就是某个函数执行完毕后执行的函数，利用它可以确保在this-setState-整个函数执行完成之后去获取this-state-xxx的值：控制台按顺序先后打印出两个结果：-利用setTimeout"><a href="#回调函数众所周知，就是某个函数执行完毕后执行的函数，利用它可以确保在this-setState-整个函数执行完成之后去获取this-state-xxx的值：控制台按顺序先后打印出两个结果：-利用setTimeout" class="headerlink" title="回调函数众所周知，就是某个函数执行完毕后执行的函数，利用它可以确保在this.setState( )整个函数执行完成之后去获取this.state.xxx的值：控制台按顺序先后打印出两个结果：# 利用setTimeout( )"></a>回调函数众所周知，就是某个函数执行完毕后执行的函数，利用它可以确保在this.setState( )整个函数执行完成之后去获取this.state.xxx的值：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">constructor(props) &#123;</span><br><span class="line">  super(props);</span><br><span class="line">  this.state = &#123;</span><br><span class="line">    num: 1</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">componentDidMount = () =&gt; &#123;</span><br><span class="line">  this.setState(&#123; num: this.state.num + 1 &#125;, () =&gt; &#123;</span><br><span class="line">    console.log(this.state.num);   // 2</span><br><span class="line">  &#125;);</span><br><span class="line">  console.log(this.state.num);   // 1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>控制台按顺序先后打印出两个结果：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td></tr></table></figure><br># 利用setTimeout( )</h2><p>首先简单回顾一下，利用setTimeout( )模拟一下前文提到的Javascript中的异步：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">foo = () =&gt; &#123;</span><br><span class="line">  console.log(&#x27;11111111&#x27;);</span><br><span class="line">  setTimeout(function()&#123;</span><br><span class="line">    console.log(&#x27;22222222&#x27;);</span><br><span class="line">  &#125;,1000);</span><br><span class="line">&#125;;</span><br><span class="line">bar = () =&gt; &#123;</span><br><span class="line">  console.log(&#x27;33333333&#x27;);  </span><br><span class="line">&#125;</span><br><span class="line">foo();</span><br><span class="line">bar();</span><br><span class="line">// 11111111</span><br><span class="line">// 33333333</span><br><span class="line">// 22222222</span><br></pre></td></tr></table></figure>
<p>所以，在上述代码块中，在前一方法（foo）执行时，后一方法（bar）也可以执行。符合异步的基本概念，程序并不按顺序执行。在foo函数中执行到setTimeout的时候，函数会跳出，并先执行bar( )方法，这样就模拟了一个异步的效果。这里顺便再提一下前面说的，setState方法通过一个队列机制实现state更新，当执行setState的时候，会将需要更新的state合并之后放入状态队列，而不会立即更新，通过下面的例子可见。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">constructor(props) &#123;</span><br><span class="line">  super(props);</span><br><span class="line">  this.state = &#123;</span><br><span class="line">    num: 1,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line">componentWillMount = () =&gt; &#123;</span><br><span class="line">  this.setState(&#123;</span><br><span class="line">    num: this.state.num + 1,</span><br><span class="line">  &#125;);</span><br><span class="line">  console.log(this.state.num);</span><br><span class="line">  this.setState(&#123;</span><br><span class="line">    num: this.state.num + 1,</span><br><span class="line">  &#125;);</span><br><span class="line">  console.log(this.state.num);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">render() &#123;</span><br><span class="line">  console.log(this.state.num);</span><br><span class="line">  return (&lt;div /&gt;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>代码输出结果为： &#x3D;&#x3D;1，1，2&#x3D;&#x3D;</p>
<h2 id="利用setTimeout方法可以解决state的异步问题，因为setState只在合成事件和钩子函数中是“异步”的，在原生事件和setTimeout-中都是同步的：-利用componentDidUpdate"><a href="#利用setTimeout方法可以解决state的异步问题，因为setState只在合成事件和钩子函数中是“异步”的，在原生事件和setTimeout-中都是同步的：-利用componentDidUpdate" class="headerlink" title="利用setTimeout方法可以解决state的异步问题，因为setState只在合成事件和钩子函数中是“异步”的，在原生事件和setTimeout 中都是同步的：# 利用componentDidUpdate( )"></a>利用setTimeout方法可以解决state的异步问题，因为setState只在合成事件和钩子函数中是“异步”的，在原生事件和setTimeout 中都是同步的：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">componentWillMount = () =&gt; &#123;</span><br><span class="line">  setTimeout(() =&gt; &#123;</span><br><span class="line">    this.setState(&#123;</span><br><span class="line">      num: this.state.num + 1,</span><br><span class="line">    &#125;);</span><br><span class="line">    console.log(this.state.num);  // 1</span><br><span class="line">    this.setState(&#123;</span><br><span class="line">      num: this.state.num + 1,</span><br><span class="line">    &#125;);</span><br><span class="line">    console.log(this.state.num);  // 2</span><br><span class="line">  &#125;, 0);</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><br># 利用componentDidUpdate( )</h2><h2 id="根据前面文档所说，在componentDidUpdate-方法中去获取新的state值，根据React的生命周期，此时this-state已经更新。-警告"><a href="#根据前面文档所说，在componentDidUpdate-方法中去获取新的state值，根据React的生命周期，此时this-state已经更新。-警告" class="headerlink" title="根据前面文档所说，在componentDidUpdate( )方法中去获取新的state值，根据React的生命周期，此时this.state已经更新。# 警告"></a>根据前面文档所说，在componentDidUpdate( )方法中去获取新的state值，根据React的生命周期，此时this.state已经更新。<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">constructor(props) &#123;</span><br><span class="line">    super(props);</span><br><span class="line">    this.state = &#123;</span><br><span class="line">      num: 1</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">componentWillMount = () =&gt; &#123;</span><br><span class="line">    this.setState(&#123; num: this.state.num + 1 &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">componentDidUpdate = () =&gt; &#123;</span><br><span class="line">    console.log(this.state.num);   // 2</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br># 警告</h2><p>⚠️注意，很多新人在遇到这种问题时无所适从，可能会用一些投机取巧的方式，上面的全局对象是一种方式，还有一种就是绕过setState直接赋值：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.state.num = 2   // 2</span><br></pre></td></tr></table></figure>
<p>理论上讲，这种方法当然也能达到赋值目的，但将state设计成更新延缓到最后批量合并再去渲染，对于应用的性能优化是有极大好处的，如果每次的状态改变都去重新渲染真实dom，那么它将带来巨大的性能消耗，所以不建议上面写法。</p>
<p>⚠️如果在shouldComponentUpdate或者componentWillUpdate方法中调用setState，此时this._pending-StateQueue !&#x3D; null，就会造成循环调用，使得浏览器内存占满后崩溃。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://charli-719.github.io/2019/09/03/2019/2019%E6%9C%88%E5%BA%A6%E6%80%BB%E7%BB%93-%E5%85%AB%E6%9C%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Charli">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Charli">
      <meta itemprop="description" content="不积跬步，无以至千里">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Charli">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/09/03/2019/2019%E6%9C%88%E5%BA%A6%E6%80%BB%E7%BB%93-%E5%85%AB%E6%9C%88/" class="post-title-link" itemprop="url">2019月度总结-八月</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-09-03 20:38:32" itemprop="dateCreated datePublished" datetime="2019-09-03T20:38:32+08:00">2019-09-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-02-17 14:09:49" itemprop="dateModified" datetime="2023-02-17T14:09:49+08:00">2023-02-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/2019%E6%9C%88%E5%BA%A6%E6%80%BB%E7%BB%93/" itemprop="url" rel="index"><span itemprop="name">2019月度总结</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>第二次写月度总结了</p>
<p>感觉八月过的什么都不知道似的就这样过完了</p>
<h1 id="读书"><a href="#读书" class="headerlink" title="读书"></a>读书</h1><p>八月的读书量根本跟不上，这个月就没怎么读书，光玩了~罪过罪过</p>
<p>《图解css3》这本书把css3里面的特性讲解的很细致。这本是很早以前就买了，但是一直断断续续的看一点，从来都没有看完过。不过在八月我翻完了最后一页。翻完后竟然在工作中还用到了刚从里面学到的知识。果然看书是没有坏处的。这本书以后还是要细读一下，争取把里面的内容都熟记。</p>
<p>《所谓情商高，就是会说话》 我这个人就是不怎么会说话，有时候能不说话我绝对是不吱声的那种。本书是我在微信读书上看到的，看到身边的人都在读这本书，我也就加入了我的书架。本书不是太多，总共也就二百八十六页。本书是一位日本作者写的《别让成功卡在说话上》的一个后续。《别让成功卡在说话上》这个还都没有看过。作者把说话比作做菜，都是有谱可寻的。<br>章节后面都有本章的总结</p>
<blockquote>
<p>第一章总结</p>
<ul>
<li>利用“投其所好”——既能获得对方的好感，又能实现自己的期望</li>
<li>利用“儆其所恶”——能形成强大的的强制力。这是措辞的最终手段</li>
<li>利用“选择的自由”——能够引导对方，同时又不会留下被迫感</li>
<li>利用“被认可欲”——对方即使很难对付，也会乐于回应期待</li>
<li>利用“非你不可”——能让对方感到只有自己被选中的优越感，从而乐于做出回应</li>
<li>利用“团队化”——能使对方产生伙伴意识，即使是麻烦的请求，也会乐于接受</li>
<li>利用“感谢”——能让对方隐约产生信赖意识，从而难以轻易拒绝</li>
</ul>
</blockquote>
<blockquote>
<p>第二章总结</p>
<ul>
<li>瞬间即可完成的“措辞菜谱”——惊奇法</li>
<li>即使忘记其他“措辞菜谱”，也要记住这个能创造名言的“措辞菜谱”——反差法</li>
<li>令人脸上发烧、难为情的、暴露自我的“措辞菜谱”——赤裸裸法</li>
<li>非常非常简单就能完成，令人记忆深刻的“措辞菜谱”——重复法</li>
<li>唯独不能忘记这个吸引人注意力的“措辞菜谱”——高潮法</li>
<li>95%人不知道的、通过使用数字来增强说服力的“措辞菜谱”——数字法</li>
<li>可用“潮流发明器”来形容的、创造流行语的“措辞菜谱”——合体法</li>
<li>商店货架上最常用的、制造购买动机的“措辞菜谱”——顶点法</li>
</ul>
</blockquote>
<p>里面有一段话很好：不要去追一匹马，用追马的时间种草，待到春暖花开时，会有一群骏马任你挑选；不要可以去结交一个人，用这时间提升自己的能力，待到时机成熟时，会有一大批朋友与你同行。所以丰富自己比依附他人更有力量；种下梧桐，自由凤凰来栖，你若盛开，蝴蝶自来。</p>
<p>有一天去图书馆的时候刚好没有了座位，就随手拿起一本杂志翻了起来。看到了一篇文章《一个人》</p>
<blockquote>
<ul>
<li>一个人</li>
<li>一个人是快乐的，在没遇到另一个人时；</li>
<li>一个人可以随心情的起伏而抱怨天气的变化；</li>
<li>一个人可以自由地去击破蓝天而不用担心自己的羽翼；</li>
<li>一个人可以开心地看着别人的眼泪而不用担心自己的泪水；</li>
<li>一个人可以呼呼地睡觉而不用考虑浪费的时间；</li>
<li>一个人可以不用考虑人情味的存在而禁锢自己的思想；</li>
<li>一个人可以把天分成两半而不用考虑天会塌下来；</li>
</ul>
</blockquote>
<h1 id="学习"><a href="#学习" class="headerlink" title="学习"></a>学习</h1><p>在前端技术上，摘了别人的三个小游戏，自己临摹了一遍，但也只是临摹加浏览了一遍。还需要深入的了解。</p>
<p>下面三个链接都可以试玩哦<br><a href="https://charli-719.github.io/Lipstick-Matching-Game/src/index.html">口红匹配</a><br><a href="https://charli-719.github.io/Tic-Tac-Toe/src/index.html">井字棋</a><br><a href="https://charli-719.github.io/minesweeper/src/index.html">扫雷</a></p>
<h1 id="美食"><a href="#美食" class="headerlink" title="美食"></a>美食</h1><p>这个月的公众号更新了两篇游玩篇，三篇美食篇<br>《内蒙古》、《炸鸡排》、《炒方便面》、《耗油生菜》、《岱山》。<br>想要知道具体详细内容的可以关注我的公众号（李大公子）。<br>我还会增加新的菜谱，这算是提高我的厨艺吗，没办法，就是爱吃</p>
<h1 id="旅游"><a href="#旅游" class="headerlink" title="旅游"></a>旅游</h1><p>八月，月初和月末都出去玩了，但不是一整个月哦</p>
<blockquote>
<p>鄂尔多斯</p>
</blockquote>
<p>八月初跟团去了一趟鄂尔多斯，五天四夜游。</p>
<ul>
<li>体验了好多项目:</li>
<li><input checked="" disabled="" type="checkbox"> 骑马</li>
<li><input checked="" disabled="" type="checkbox"> 骑骆驼</li>
<li><input checked="" disabled="" type="checkbox"> 滑沙</li>
<li><input checked="" disabled="" type="checkbox"> 溜索</li>
<li><input checked="" disabled="" type="checkbox"> 沙地自行车</li>
<li><input checked="" disabled="" type="checkbox"> 越野摩托</li>
<li><input checked="" disabled="" type="checkbox"> 住蒙古包</li>
<li><input checked="" disabled="" type="checkbox"> 吃烤全羊</li>
<li><input checked="" disabled="" type="checkbox"> 穿蒙古族服装</li>
<li><input checked="" disabled="" type="checkbox"> 看马术表演</li>
<li><input checked="" disabled="" type="checkbox"> 喝下马酒</li>
<li><input checked="" disabled="" type="checkbox"> 果老剧场杂技表演——十二生肖</li>
</ul>
<p>还做了一次王妃。。。。<br>蒙古族在吃烤全羊前有一个仪式，就是选出一组王爷王妃参加一个祭祀仪式，只有举办完这个仪式，所有人才能吃烤全羊。。所以就入乡随俗了。</p>
<ul>
<li>去的景点: </li>
<li><input checked="" disabled="" type="checkbox"> 呼和浩特希拉穆仁草原</li>
<li><input checked="" disabled="" type="checkbox"> 敕勒川草原</li>
<li><input checked="" disabled="" type="checkbox"> 萨拉齐</li>
<li><input checked="" disabled="" type="checkbox"> 大昭寺</li>
<li><input checked="" disabled="" type="checkbox"> 银肯响沙湾</li>
<li><input checked="" disabled="" type="checkbox"> 康巴什</li>
<li><input checked="" disabled="" type="checkbox"> 成吉思汗陵</li>
</ul>
<p>印象深刻的是希拉穆仁大草原，一望无际草原。现在的草原早就没有了以前电视上的那种，因为过度的发展旅游业，草原也不是很青了；银肯响沙湾，跟草原相反，一望无际的沙漠。金灿灿的细沙，因为我们去的时候下去，到那里就不下了，所以天气是非常好的。没有大太阳，不晒。很庆幸。</p>
<p>上一些图<br><img src="/2019%E6%9C%88%E5%BA%A6%E6%80%BB%E7%BB%93-%E5%85%AB%E6%9C%88/caoyuan.jpg"><br><img src="/2019%E6%9C%88%E5%BA%A6%E6%80%BB%E7%BB%93-%E5%85%AB%E6%9C%88/menggubao.jpg"><br><img src="/2019%E6%9C%88%E5%BA%A6%E6%80%BB%E7%BB%93-%E5%85%AB%E6%9C%88/kaoquanyang.jpg"><br><img src="/2019%E6%9C%88%E5%BA%A6%E6%80%BB%E7%BB%93-%E5%85%AB%E6%9C%88/shamo.jpg"><br><img src="/2019%E6%9C%88%E5%BA%A6%E6%80%BB%E7%BB%93-%E5%85%AB%E6%9C%88/chengjisihanling.jpg"></p>
<p>八月中旬去参加朋友的婚礼去了一趟宿迁（也是第一次去），吃了一次宿迁大席。哈哈哈   很合胃口</p>
<p>八月末公司团建选择了岱山<br>我们是车船同票，去的时候我们大boss直接给我们升级了头等舱。。。来的时候也升了舱——多幸福<br>我们是坐车去的洋山港，从洋山港坐船到达岱山。<br>洋山港真的不愧是世界第一<br>看一些图片<br><img src="/2019%E6%9C%88%E5%BA%A6%E6%80%BB%E7%BB%93-%E5%85%AB%E6%9C%88/view.jpg"><br><img src="/2019%E6%9C%88%E5%BA%A6%E6%80%BB%E7%BB%93-%E5%85%AB%E6%9C%88/view01.jpg"><br><img src="/2019%E6%9C%88%E5%BA%A6%E6%80%BB%E7%BB%93-%E5%85%AB%E6%9C%88/yangshangang01.jpg"><br><img src="/2019%E6%9C%88%E5%BA%A6%E6%80%BB%E7%BB%93-%E5%85%AB%E6%9C%88/yangshangang02.jpg"><br><img src="/2019%E6%9C%88%E5%BA%A6%E6%80%BB%E7%BB%93-%E5%85%AB%E6%9C%88/yangshangang03.jpg"></p>
<p>去的时候坐了80分钟的船，这是我第一次坐了那么长时间的船-风平浪静，很享受。<br>来的时候就没有那么幸运了。。。<br>来的时候我们遇上了8级风，我们的船是超过8级就不能运营了，所以注定这是一次难忘的出行。8级风使海上的浪很大，浪会把船冲上去，然后自由落体坠落在海面上，我们就一直跟着船颠簸了将近一个小时，这个过程有点刺激，胃里翻江倒海，如果在晃个半小时我估计我也要吐了🤮，那些已经吐了的，应该更难忘😄<br>感受一下当时海上的浪，不知道后面两个视频能不能看<br><img src="/2019%E6%9C%88%E5%BA%A6%E6%80%BB%E7%BB%93-%E5%85%AB%E6%9C%88/lang.jpg"></p>
<video style="width:400px" id="video" controls="" preload="none" poster="https://Charli-719.github.io/2019/09/03/2019月度总结-八月/lang.jpg">
      <source id="mp4" src="https://Charli-719.github.io/2019/09/03/2019月度总结-八月/sea.mp4" type="video/mp4">
</video>


<video style="width:400px" id="video" controls="" preload="none" poster="https://Charli-719.github.io/2019/09/03/2019月度总结-八月/lang.jpg">
      <source id="mp4" src="https://Charli-719.github.io/2019/09/03/2019月度总结-八月/sea2.mp4" type="video/mp4">
</video>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Charli</span>
</div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  





  





</body>
</html>
